(this["webpackJsonpspace-ship"]=this["webpackJsonpspace-ship"]||[]).push([[0],{40:function(n,t,e){n.exports=e.p+"static/media/wannavile.2bb886d9.jpg"},41:function(n,t,e){n.exports=e.p+"static/media/ghost.e01411fa.png"},46:function(n,t,e){n.exports=e(86)},83:function(n,t){},86:function(n,t,e){"use strict";e.r(t);var i=e(0),o=e.n(i),a=e(39),r=e.n(a),c=e(12),s=e(20),u=e(1),f=e(2),l=e(40),m=e.n(l),h=e(41),d=e.n(h);function v(){var n=Object(u.a)(["\n  color: white;\n  font-size: 1.5em;\n"]);return v=function(){return n},n}function p(){var n=Object(u.a)(["\n  width: 150px;\n  height: 150px;\n  object-fit: contain;\n  object-position: center;\n"]);return p=function(){return n},n}function b(){var n=Object(u.a)(["\n  position: absolute;\n  left: ","px;\n  top: ","px;\n  transition left 1s, top 1s;\n  \n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transform: translate(-50%, -90%);\n  animation-iteration-count: infinite;\n  animation-duration: 1s;\n  animation-name: ghost-animation;\n\n  @keyframes ghost-animation {\n    0% {\n      transform: translate(-50%, -90%);\n    }\n    50% {\n      transform: translate(-50%, -95%);\n    }\n    100% {\n      transform: translate(-50%, -90%);\n    }\n  }\n"]);return b=function(){return n},n}var g=f.a.div(b(),(function(n){return n.x}),(function(n){return n.y})),x=f.a.img(p()),y=f.a.span(v()),k=function(n){var t=n.username,e=n.x,i=n.y;return o.a.createElement(g,{x:e,y:i},o.a.createElement(x,{src:d.a}),o.a.createElement(y,null,t))};function w(){var n=Object(u.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 1500px;\n"]);return w=function(){return n},n}function j(){var n=Object(u.a)(["\n  width: 100vw;\n  height: 100vh;\n"]);return j=function(){return n},n}var L=f.a.div(j()),O=f.a.img(w()),E=function(n){var t=n.moveTo,e=n.myUser,i=n.userList;return o.a.createElement(L,null,o.a.createElement(O,{src:m.a,onClick:function(n){t(n.pageX,n.pageY)}}),i.map((function(n){return o.a.createElement(k,{key:n.id,x:n.x,y:n.y,username:n.name})})),o.a.createElement(k,{key:e.id,x:e.x,y:e.y,username:e.name}))},U=e(21);var C=function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.id=t,this.name=e,this.x=0,this.y=0,this.setPosition=function(t,e){return n.x=t,n.y=e,n},this.clone=function(){return Object(c.a)({},n)}},I=e(45),M=e.n(I);function N(n,t,e){var i=this,o=e.onConnect,a=e.onUserListChange,r=e.onUserMove,c=e.userName;this.socket=M()("http://".concat(n,":").concat(t)),this.id="",this.userList=[],this.userName="",this.socket.on("connect",(function(){console.log("ID",i.socket.id),i.socket.binary(!0).emit("e",i.socket.id,c),i.id=i.socket.id,o(i.id)})),this.socket.on("e",(function(n,t){i.userList.push({id:n,name:t}),a&&a(i.userList)})),this.socket.on("x",(function(n){var t=i.userList.findIndex((function(t){return t.id===n}));-1!==t&&(i.userList.splice(t,1),a&&a(i.userList))})),this.socket.on("l",(function(n){i.userList=n,a&&a(i.userList,!0)})),this.socket.on("m",(function(n,t,e){r&&r(n,t,e)}))}var P,S,T=function(n){B.id=n},z=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=Object(U.a)(J).filter((function(t){return-1!==n.findIndex((function(n){return n.id===t.id}))}));n.forEach((function(n){var i=n.id,o=n.name,a=n.x,r=void 0===a?0:a,c=n.y,s=void 0===c?0:c;if(-1===e.findIndex((function(n){return n.id===i}))&&i!==S.id){var u=new C(i,o);t&&u.setPosition(r,s),e.push(u)}})),W(J=e)},A=function(n,t,e){if(B.id===n)return B=B.setPosition(t,e),void D(B);var i=J.findIndex((function(t){return t.id===n})),o=Object(U.a)(J);if(-1===i)return o;o[i].x=t,o[i].y=e,W(J=o)},B=new C,J=[],W=null,D=null,X={emit:function(n){for(var t,e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];S&&(t=S.binary(!0)).emit.apply(t,[n].concat(i))},setUserListCallback:function(n){W=n},setUserMeCallback:function(n){D=n},setUsername:function(n){B.name=n},connect:function(){P=new N("ec2-3-137-150-69.us-east-2.compute.amazonaws.com",4e3,{onConnect:T,onUserListChange:z,onUserMove:A,userName:B.name}),S=P.socket}};var Y=function(){var n=Object(i.useState)(new C("","")),t=Object(s.a)(n,2),e=t[0],a=t[1],r=Object(i.useState)([]),u=Object(s.a)(r,2),f=u[0],l=u[1];Object(i.useEffect)((function(){X.setUsername(prompt("\ub2f9\uc2e0\uc758 \uc774\ub984\uc740?",function(){var n=["\ub611\ub611\ud55c","\uace0\uc694\ud55c","\uace0\uc6b4","\uae30\ud2b9\ud55c","\uae5c\ucc0d\ud55c","\uadfc\uba74\ud55c","\uadc0\uc5ec\uc6b4","\uad00\ub300\ud55c","\uae54\ub054\ud55c","\uae0d\uc815\uc801\uc778","\uacb8\uc190\ud55c"],t=["\uba4b\uc7c1\uc774","\uc13c\uc2a4\uc7c1\uc774","\uac1c\uad6c\uc7c1\uc774","\uac81\uc7c1\uc774","\uc218\ub2e4\uc7c1\uc774","\uc18c\uae08\uc7c1\uc774"];return"".concat(n[parseInt(n.length*Math.random())]," ").concat(t[parseInt(t.length*Math.random())])}())),X.setUserListCallback((function(n){l(n)})),X.setUserMeCallback((function(n){a(Object(c.a)({},n))})),X.connect()}),[]);var m=function(n,t){var e=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];null===e&&(e=setTimeout((function(){n.apply(void 0,o),e=null}),t))}}((function(n,t){X.emit("m",n,t)}),100);return o.a.createElement(E,{moveTo:m,myUser:e,userList:f})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.a6ffa087.chunk.js.map