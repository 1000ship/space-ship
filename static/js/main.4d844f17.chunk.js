(this["webpackJsonpspace-ship"]=this["webpackJsonpspace-ship"]||[]).push([[0],{43:function(n,t,e){n.exports=e(83)},79:function(n,t){},83:function(n,t,e){"use strict";e.r(t);var o=e(0),i=e.n(o),r=e(37),c=e.n(r),s=e(19),u=e(42),a=e(16),f=e(38),l=e.n(f);function h(n,t,e){var o=this,i=e.onUserListChange,r=e.onUserMove;this.socket=l()("http://".concat(n,":").concat(t)),this.id="",this.userList=[],this.emit=function(n){for(var t,e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];(t=o.socket).emit.apply(t,[n].concat(i))},this.socket.on("connect",(function(){console.log("ID",o.socket.id),o.socket.emit("enter",o.socket.id),o.id=o.socket.id})),this.socket.on("enter",(function(n){console.log("Enter",n),o.userList.push(n),i&&i(o.userList)})),this.socket.on("exit",(function(n){console.log("Exit",n);var t=o.userList.findIndex((function(n){return n.id===o.socket.id}));o.userList.splice(t,1),i&&i(o.userList)})),this.socket.on("user-list",(function(n){o.userList=n,i&&i(o.userList)})),this.socket.on("user-move",(function(n,t,e){r&&r(n,t,e)}))}var d=e(17);function v(){var n=Object(a.a)(["\n  position: fixed;\n  left: ","px;\n  top: ","px;\n"]);return v=function(){return n},n}function p(){var n=Object(a.a)(["\n  width: 100vw;\n  height: 100vh;\n"]);return p=function(){return n},n}var m,k=d.a.div(p()),g=d.a.div(v(),(function(n){return n.x}),(function(n){return n.y}));var w=function(){var n=Object(o.useState)([]),t=Object(u.a)(n,2),e=t[0],r=t[1];Object(o.useEffect)((function(){m=new h("ec2-3-137-150-69.us-east-2.compute.amazonaws.com",4e3,{onUserListChange:c,onUserMove:a})}),[]);var c=function(n){r((function(t){var e=Object(s.a)(t);return n.forEach((function(n){-1===e.findIndex((function(t){return t.id===n}))&&e.push({id:n,x:0,y:0})})),e}))},a=function(n,t,e){console.log(n,t,e),r((function(o){var i=o.findIndex((function(t){return t.id===n})),r=Object(s.a)(o);return-1===i||(r[i].x=t,r[i].y=e),r}))},f=function(n,t){var e=null;return function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];null===e&&(e=setTimeout((function(){n.apply(void 0,i),e=null}),t))}}((function(n,t){m.emit("user-move",n,t)}),100);return i.a.createElement(k,{onMouseMove:function(n){return f(n.pageX,n.pageY)}},e.map((function(n){return i.a.createElement(g,{key:n.id,x:n.x,y:n.y},n.id)})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.4d844f17.chunk.js.map