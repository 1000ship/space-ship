(this["webpackJsonpspace-ship"]=this["webpackJsonpspace-ship"]||[]).push([[0],{43:function(n,t,e){n.exports=e(83)},79:function(n,t){},83:function(n,t,e){"use strict";e.r(t);var o=e(0),i=e.n(o),r=e(38),c=e.n(r),s=e(20),u=e(19),a=e(16),f=e(39),l=e.n(f);function d(n,t,e){var o=this,i=e.onUserListChange,r=e.onUserMove;this.socket=l()("http://".concat(n,":").concat(t)),this.id="",this.userList=[],this.emit=function(n){for(var t,e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];(t=o.socket.binary(!0)).emit.apply(t,[n].concat(i))},this.socket.on("connect",(function(){console.log("ID",o.socket.id),o.socket.binary(!0).emit("enter",o.socket.id),o.id=o.socket.id})),this.socket.on("enter",(function(n){console.log("Enter",n),o.userList.push(n),i&&i(o.userList)})),this.socket.on("exit",(function(n){console.log("Exit",n);var t=o.userList.findIndex((function(n){return n.id===o.socket.id}));o.userList.splice(t,1),i&&i(o.userList)})),this.socket.on("user-list",(function(n){o.userList=n,i&&i(o.userList)})),this.socket.on("user-move",(function(n,t,e){r&&r(n,t,e)}))}var h=e(17);function v(){var n=Object(a.a)(["\n  position: fixed;\n  left: ","px;\n  top: ","px;\n"]);return v=function(){return n},n}function p(){var n=Object(a.a)(["\n  width: 100vw;\n  height: 100vh;\n"]);return p=function(){return n},n}var m,x=h.a.div(p()),y=h.a.div(v(),(function(n){return n.x}),(function(n){return n.y}));var k=function(){var n=Object(o.useState)({x:0,y:0}),t=Object(u.a)(n,2),e=t[0],r=t[1],c=Object(o.useState)([]),a=Object(u.a)(c,2),f=a[0],l=a[1];Object(o.useEffect)((function(){m=new d("ec2-3-137-150-69.us-east-2.compute.amazonaws.com",4e3,{onUserListChange:h,onUserMove:v})}),[]);var h=function(n){l((function(t){var e=Object(s.a)(t).filter((function(t){return-1!==n.findIndex((function(n){return n===t.id}))}));return n.forEach((function(n){-1===e.findIndex((function(t){return t.id===n}))&&n!==m.id&&e.push({id:n,x:0,y:0})})),e}))},v=function(n,t,e){n===m.id?r({x:t,y:e}):l((function(o){var i=o.findIndex((function(t){return t.id===n})),r=Object(s.a)(o);return-1===i||(r[i].x=t,r[i].y=e),r}))},p=function(n,t){var e=null;return function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];null===e&&(e=setTimeout((function(){n.apply(void 0,i),e=null}),t))}}((function(n,t){m.emit("user-move",n,t)}),100);return i.a.createElement(x,{onMouseMove:function(n){return p(n.pageX,n.pageY)}},i.a.createElement(y,{x:e.x,y:e.y},"ME"),f.map((function(n){return i.a.createElement(y,{key:n.id,x:n.x,y:n.y},n.id)})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.190ecf08.chunk.js.map